<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mango - {% block title %}{% endblock %}</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/uikit@3.5.9/dist/css/uikit.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" />
    <link rel="stylesheet" href="/static/dist/css/main.css" />
    {% block styles %}{% endblock %}
</head>
<body>
    <!-- Navigation -->
    <div class="uk-navbar-container" uk-navbar>
        <!-- Mobile hamburger (hidden on medium+ screens) -->
        <div class="uk-navbar-left uk-hidden@m">
            <div class="uk-navbar-toggle" uk-navbar-toggle-icon uk-toggle="target: #mobile-nav"></div>
        </div>

        <!-- Desktop navigation (visible on medium+ screens) -->
        <div class="uk-navbar-left uk-visible@m uk-margin-left">
            <a class="uk-navbar-item uk-logo" href="/">
                <svg class="logo" viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="20" cy="20" r="18" fill="#FF9500"/>
                    <path d="M20,8 Q28,15 25,25 T20,32 Q12,25 15,15 T20,8" fill="#52C41A"/>
                </svg>
            </a>
            <ul class="uk-navbar-nav">
                <li{% if home_active %} class="uk-active"{% endif %}><a class="nav-item" href="/">HOME</a></li>
                <li{% if library_active %} class="uk-active"{% endif %}><a class="nav-item" href="/library">LIBRARY</a></li>
                <li><a class="nav-item" href="/tags">TAGS</a></li>
                {% if is_admin %}<li{% if admin_active %} class="uk-active"{% endif %}><a class="nav-item" href="/admin">ADMIN</a></li>{% endif %}
                <li><a class="nav-item" href="#">DOWNLOAD</a></li>
            </ul>
        </div>
        <div class="uk-navbar-right uk-visible@m uk-margin-right">
            <ul class="uk-navbar-nav">
                <li><a class="nav-item" onclick="toggleTheme()"><i class="fas fa-adjust"></i></a></li>
                <li><a class="nav-item" href="/change-password">CHANGE PASSWORD</a></li>
                <li><a class="nav-item" href="/logout">LOGOUT</a></li>
            </ul>
        </div>
    </div>

    <!-- Mobile Navigation Offcanvas -->
    <div id="mobile-nav" uk-offcanvas="overlay: true">
        <div class="uk-offcanvas-bar">
            <button class="uk-offcanvas-close" type="button" uk-close></button>
            <h3>Menu</h3>
            <ul class="uk-nav uk-nav-default">
                <li{% if home_active %} class="uk-active"{% endif %}><a href="/">Home</a></li>
                <li{% if library_active %} class="uk-active"{% endif %}><a href="/library">Library</a></li>
                <li><a href="/tags">Tags</a></li>
                {% if is_admin %}<li{% if admin_active %} class="uk-active"{% endif %}><a href="/admin">Admin</a></li>{% endif %}
                <li><a href="#">Download</a></li>
                <li class="uk-nav-divider"></li>
                <li><a onclick="toggleTheme()"><i class="fas fa-adjust"></i></a></li>
                <li><a href="/change-password">Change Password</a></li>
                <li><a href="/logout">Logout</a></li>
            </ul>
        </div>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        {% block content %}{% endblock %}
    </div>

    <script src="https://cdn.jsdelivr.net/npm/uikit@3.5.9/dist/js/uikit.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.13.3/dist/cdn.min.js"></script>
    <script src="/static/src/js/core.js"></script>
    {% block scripts %}{% endblock %}
</body>
</html>
