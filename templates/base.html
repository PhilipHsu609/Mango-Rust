<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="/static/favicon.ico">
    <title>Mango - {% block title %}{% endblock %}</title>
    <link rel="stylesheet" href="/static/dist/css/main.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" />
    {% block styles %}{% endblock %}
</head>
<body>
    <!-- Navigation -->
    <div class="uk-position-top">
        <div class="uk-navbar-container uk-navbar-transparent" uk-navbar>
            <!-- Mobile hamburger (hidden on medium+ screens) -->
            <div class="uk-navbar-left uk-hidden@m">
                <div class="uk-navbar-toggle" uk-navbar-toggle-icon uk-toggle="target: #mobile-nav"></div>
            </div>

            <!-- Desktop navigation (visible on medium+ screens) -->
            <div class="uk-navbar-left uk-visible@m">
                <a class="uk-navbar-item uk-logo" href="/">
                    <img src="/static/img/icons/icon.png" style="width:90px;height:90px;" onerror="this.style.display='none'">
                </a>
                <ul class="uk-navbar-nav">
                    <li{% if nav.home_active %} class="uk-active"{% endif %}><a href="/">Home</a></li>
                    <li{% if nav.library_active %} class="uk-active"{% endif %}><a href="/library">Library</a></li>
                    <li{% if nav.tags_active %} class="uk-active"{% endif %}><a href="/tags">Tags</a></li>
                    {% if nav.is_admin %}<li{% if nav.admin_active %} class="uk-active"{% endif %}><a href="/admin">Admin</a></li>{% endif %}
                    <li><a href="#">Download</a></li>
                </ul>
            </div>
            <div class="uk-navbar-right uk-visible@m">
                <ul class="uk-navbar-nav">
                    <li><a onclick="toggleTheme()"><i class="fas fa-adjust"></i></a></li>
                    <li><a href="/logout">Logout</a></li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Mobile Navigation Offcanvas -->
    <div id="mobile-nav" uk-offcanvas="overlay: true">
        <div class="uk-offcanvas-bar">
            <button class="uk-offcanvas-close" type="button" uk-close></button>
            <h3>Menu</h3>
            <ul class="uk-nav uk-nav-default">
                <li{% if nav.home_active %} class="uk-active"{% endif %}><a href="/">Home</a></li>
                <li{% if nav.library_active %} class="uk-active"{% endif %}><a href="/library">Library</a></li>
                <li{% if nav.tags_active %} class="uk-active"{% endif %}><a href="/tags">Tags</a></li>
                {% if nav.is_admin %}<li{% if nav.admin_active %} class="uk-active"{% endif %}><a href="/admin">Admin</a></li>{% endif %}
                <li><a href="#">Download</a></li>
                <li class="uk-nav-divider"></li>
                <li><a onclick="toggleTheme()"><i class="fas fa-adjust"></i></a></li>
                <li><a href="/change-password">Change Password</a></li>
                <li><a href="/logout">Logout</a></li>
            </ul>
        </div>
    </div>

    <!-- Spacer for fixed navbar -->
    <div class="uk-section uk-section-small">
    </div>
    <!-- Main Content -->
    <div class="uk-section uk-section-small">
        <div class="uk-container uk-container-small">
            {% block content %}{% endblock %}
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/uikit@3.5.9/dist/js/uikit.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.13.3/dist/cdn.min.js"></script>
    <script src="/static/src/js/core.js?v=2"></script>
    {% block scripts %}{% endblock %}
</body>
</html>
