# Implementation Log: Task 2.1

**Summary:** Created server management utilities with startServer(), waitForServerReady(), and stopServer() functions. Implements cargo run spawning with environment variables, exponential backoff polling (500ms-2s intervals), graceful SIGTERM shutdown with 10s timeout, comprehensive error handling with log capture, and process lifecycle management. Includes debugging support via DEBUG env var.

**Timestamp:** 2025-11-22T09:17:28.855Z
**Log ID:** 5cbd1caf-e13b-497c-8c80-0e59645486c0

---

## Statistics

- **Lines Added:** +194
- **Lines Removed:** -0
- **Files Changed:** 1
- **Net Change:** 194

## Files Modified
_No files modified_

## Files Created
- tests/helpers/server.ts

---

## Artifacts

### Functions

#### startServer
- **Purpose:** Start Mango server using cargo run with environment configuration and wait for ready state
- **Location:** tests/helpers/server.ts:26
- **Signature:** async function startServer(config?: Partial<ServerConfig>): Promise<void>
- **Exported:** Yes

#### waitForServerReady
- **Purpose:** Poll server health endpoint with exponential backoff until ready or timeout
- **Location:** tests/helpers/server.ts:100
- **Signature:** async function waitForServerReady(config?: Partial<ServerConfig>): Promise<void>
- **Exported:** Yes

#### stopServer
- **Purpose:** Gracefully shutdown Mango server using SIGTERM with fallback to SIGKILL
- **Location:** tests/helpers/server.ts:137
- **Signature:** async function stopServer(): Promise<void>
- **Exported:** Yes

#### isServerRunning
- **Purpose:** Check if server process is currently running
- **Location:** tests/helpers/server.ts:175
- **Signature:** function isServerRunning(): boolean
- **Exported:** Yes

#### getServerProcess
- **Purpose:** Get current server process for debugging
- **Location:** tests/helpers/server.ts:169
- **Signature:** function getServerProcess(): ChildProcess | null
- **Exported:** Yes

